<!DOCTYPE html>
<html>
<head>
    <title>To UPPERCASE | lowercase</title>
</head>
<body>
    <h3>To UPPERCASE | lowercase:</h3>
    <textarea id="insertedText" name="text" rows="4" cols="30" placeholder="Type your text here..." required></textarea><br>
    <br>
    
    <input type="radio" id="Uppercase" name="option" value="A" checked>
    <label for="Uppercase">UPPERCASE</label><br>
    <input type="radio" id="Lowercase" name="option" value="B">
    <label for="Lowercase">lowercase</label><br>
    <br>
    
    <button id="send">Send</button>
    
    <div id="result"></div>
    
    <script>
        document.getElementById("send").addEventListener("click", function() {
            var selectedOption = document.querySelector('input[name="option"]:checked').value;
            var insertedText = document.getElementById("insertedText").value;
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "http://localhost:8080/cgi_bin/text-plain.php", true);
            xhr.setRequestHeader("Content-Type", "text/plain");
            xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                        document.getElementById("result").textContent = "Server Response: " + xhr.responseText;
                    } else {
                        document.getElementById("result").textContent = "Error sending request";
                    }
                }
            };
            xhr.send(selectedOption + insertedText); // Envia a opção e o texto
        });
    </script>
</body>
</html>
